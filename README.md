# swccg-data
Data Collection for Star Wars CCG

## Public Files
### cardfacts.txt
This file contains all the card definitions and is used by the AI to answer questions about the game. It is generated by the generateCardFacts.js script.

### tournaments.json
This file contains all the tournament decklists from the PC website. It is generated by the downloadDecklists.js script.

## players.json
This file contains info on every player who has played in a major tournament since 2019.

## decklists.json
This file contains info on every decklist from every major tournament since 2019.

## decklists.txt
This file is a text concatenation of every decklist from every major tournament since 2019.


### Other Files
All other files are generated by scripts.


## Setup
### Card Facts
`node generateCardFacts.js`
This will download the card definition JSON files, card images, and generate the cardFacts.txt file.

### Download Decklists
`node downloadDecklists.js`
This will download all tournament decklists from the PC website. Run `node scrapeTournaments.js` first to generate the tournaments.json file.

### Download Card Images
`node downloadCardImages.js`
This will download all images for all cards locally.

### Scrape Tournament Data
`node scrapeTournaments.js`
Scrapes the PC website for tournament data and generates the tournaments.json file. This is a pre-requisite for the downloadDecklists.js script.


## Data Pipeline
|-> [TODO: downloadCardData.js] *right now every script just does this*
| |-> generateCardFacts.js *saves `cardFacts.txt`*
| |-> downloadCardImages.js
|-> scrapeTournaments.js *saves tournaments.json*
|  |-> scrapeDecklists.js *saves html files*
|  |  |-> generateDecklistTxt.js *saves txt files, `decklists.txt` and `decklists.json`*
          *note: This requires --max-old-space-size=12000 or more*
|  |  |  |-> generateArchetypes.js *creates `archetypes.json` helper*
|  |  |  |-> generatePlayers.js *creates `players.json` helper*
|  |  |  |-> generateDecklistJson.js *saves highly structured json*
|  |  |  |  |-> generateDecklistGemp.js *saves gemp files*


## TODO:
- [ ] downloadCardData.js
- [ ] extract constants like ROUND_NAMES
- [ ] extract helpers like card title standardization (ugh, classes?)
